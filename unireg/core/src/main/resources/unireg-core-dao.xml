<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:tx="http://www.springframework.org/schema/tx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans	http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
							http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd">

	<bean id="applicationContext" class="ch.vd.uniregctb.common.ApplicationContextInjector"/>

	<bean id="hibernateDao" class="ch.vd.uniregctb.common.BaseDAOImpl" abstract="true">
		<property name="sessionFactory" ref="sessionFactory" />
		<property name="hibernateTemplate" ref="hibernateTemplate"/>
	</bean>
	<bean id="hibernateTemplate" class="ch.vd.uniregctb.hibernate.HibernateTemplateImpl">
		<property name="sessionFactory" ref="sessionFactory" />
	</bean>

	<!-- Definition des DAOs -->
	<bean id="tiersDAO" class="ch.vd.uniregctb.tiers.TiersDAOImpl" parent="hibernateDao">
		<property name="dialect" ref="hibernateDialect" />
	</bean>

	<bean id="forFiscalDAO" class="ch.vd.uniregctb.tiers.ForFiscalDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="adresseTiersDAO" class="ch.vd.uniregctb.adresse.AdresseTiersDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="rapportEntreTiersDAO" class="ch.vd.uniregctb.tiers.RapportEntreTiersDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="situationFamilleDAO" class="ch.vd.uniregctb.tiers.SituationFamilleDAOImpl" parent="hibernateDao">
	</bean>

	<bean id="evenementCivilRegPPDAO" class="ch.vd.uniregctb.evenement.civil.regpp.EvenementCivilRegPPDAOImpl" parent="hibernateDao"/>

	<bean id="evenementCivilEchDAO" class="ch.vd.uniregctb.evenement.civil.ech.EvenementCivilEchDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="evenementOrganisationDAO" class="ch.vd.uniregctb.evenement.organisation.EvenementOrganisationDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="referenceAnnonceIDEDAO" class="ch.vd.uniregctb.evenement.ide.ReferenceAnnonceIDEDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="lrDAO" class="ch.vd.uniregctb.declaration.ListeRecapitulativeDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="diDAO" class="ch.vd.uniregctb.declaration.DeclarationImpotOrdinaireDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="questionnaireSNCDAO" class="ch.vd.uniregctb.declaration.QuestionnaireSNCDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="mouvementDossierDAO" class="ch.vd.uniregctb.mouvement.MouvementDossierDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="bordereauMouvementDossierDAO" class="ch.vd.uniregctb.mouvement.BordereauMouvementDossierDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="tacheDAO" class="ch.vd.uniregctb.tiers.TacheDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="periodeFiscaleDAO" class="ch.vd.uniregctb.declaration.PeriodeFiscaleDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="migrationErrorDAO" class="ch.vd.uniregctb.migreg.MigrationErrorDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="evenementFiscalDAO" class="ch.vd.uniregctb.evenement.fiscal.EvenementFiscalDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="evenementExterneDAO" class="ch.vd.uniregctb.evenement.externe.EvenementExterneDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="modeleDocumentDAO" class="ch.vd.uniregctb.declaration.ModeleDocumentDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="modeleFeuilleDocumentDAO" class="ch.vd.uniregctb.declaration.ModeleFeuilleDocumentDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="parametrePeriodeFiscaleDAO" class="ch.vd.uniregctb.declaration.ParametrePeriodeFiscaleDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="parametreAppDAO" class="ch.vd.uniregctb.parametrage.ParametreAppDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="droitAccesDAO" class="ch.vd.uniregctb.security.DroitAccesDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="delaiDeclarationDAO" class="ch.vd.uniregctb.declaration.DelaiDeclarationDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="identCtbDAO" class="ch.vd.uniregctb.evenement.identification.contribuable.IdentCtbDAOImpl" parent="hibernateDao">
	</bean>
	<bean id="remarqueDAO" class="ch.vd.uniregctb.tiers.dao.RemarqueDAOImpl" parent="hibernateDao"/>

	<bean id="periodiciteDAO" class="ch.vd.uniregctb.declaration.PeriodiciteDAOImpl" parent="hibernateDao"/>

	<bean id="etatDeclarationDAO" class="ch.vd.uniregctb.declaration.EtatDeclarationDAOImpl" parent="hibernateDao"/>

	<bean id="immeubleDAO" class="ch.vd.uniregctb.rf.ImmeubleDAOImpl" parent="hibernateDao"/>

	<bean id="reqdesEvenementDAO" class="ch.vd.uniregctb.reqdes.EvenementReqDesDAOImpl" parent="hibernateDao"/>
	<bean id="reqdesUniteTraitementDAO" class="ch.vd.uniregctb.reqdes.UniteTraitementDAOImpl" parent="hibernateDao"/>

	<bean id="evenementRFImportDAO" class="ch.vd.uniregctb.evenement.registrefoncier.EvenementRFImportDAOImpl" parent="hibernateDao" />
	<bean id="evenementRFMutationDAO" class="ch.vd.uniregctb.evenement.registrefoncier.EvenementRFMutationDAOImpl" parent="hibernateDao" />

	<bean id="immeubleRFDAO" class="ch.vd.uniregctb.registrefoncier.dao.ImmeubleRFDAOImpl" parent="hibernateDao" />
	<bean id="droitRFDAO" class="ch.vd.uniregctb.registrefoncier.dao.DroitRFDAOImpl" parent="hibernateDao" />
	<bean id="ayantDroitRFDAO" class="ch.vd.uniregctb.registrefoncier.dao.AyantDroitRFDAOImpl" parent="hibernateDao" />
	<bean id="surfaceAuSolRFDAO" class="ch.vd.uniregctb.registrefoncier.dao.SurfaceAuSolRFDAOImpl" parent="hibernateDao" />

	<!-- Audit -->
	<bean id="auditLineDAO" class="ch.vd.uniregctb.audit.AuditLineDAOImpl" parent="hibernateDao">
		<property name="transactionManager" ref="transactionManager" />
		<property name="dialect" ref="hibernateDialect" />
	</bean>

	<bean id="decisionAciDAO" class="ch.vd.uniregctb.tiers.dao.DecisionAciDAOImpl" parent="hibernateDao"/>

	<bean id="domicileEtablissementDAO" class="ch.vd.uniregctb.tiers.dao.DomicileEtablissementDAOImpl" parent="hibernateDao"/>

	<bean id="etiquetteDAO" class="ch.vd.uniregctb.etiquette.EtiquetteDAOImpl" parent="hibernateDao"/>
	<bean id="etiquetteTiersDAO" class="ch.vd.uniregctb.etiquette.EtiquetteTiersDAOImpl" parent="hibernateDao"/>

	<bean id="transactionHelper" class="ch.vd.uniregctb.transaction.TransactionHelper">
		<constructor-arg ref="transactionManager"/>
	</bean>

	<!-- Gestionnaire de transaction base sur les annotations @Transactional -->
	<tx:annotation-driven transaction-manager="transactionManager" />

</beans>
