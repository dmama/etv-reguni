<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

	<bean 	id="abstractMouvementController"
			parent="abstractSimpleFormController"
			abstract="true"
			class="ch.vd.uniregctb.mouvement.AbstractMouvementController">
		<property name="mouvementMapHelper" ref="mouvementMapHelper" />
	</bean>

	<bean id="mouvementMapHelper" class="ch.vd.uniregctb.mouvement.MouvementMapHelper" >
	</bean>

	<bean id="mouvementEditController" class="ch.vd.uniregctb.mouvement.MouvementEditController" parent="abstractMouvementController" >
		<property name="sessionForm" value="true" />
		<property name="commandClass" value="ch.vd.uniregctb.mouvement.view.MouvementDetailView" />
		<property name="commandName" value="command" />
		<property name="mouvementEditManager" ref="mouvementEditManager" />
		<property name="tacheListManager" ref="tacheListManager" />
		<property name="formView" value="mouvement/edit" />
		<property name="successView" value="redirect:/mouvement/edit.do" />
		<property name="validator" ref="mouvementEditValidator" />
	</bean>
	
	<bean id="mouvementEditValidator" class="ch.vd.uniregctb.mouvement.validator.MouvementEditValidator" >
	</bean>
	
	<bean id="mouvementEditContribuableController" class="ch.vd.uniregctb.mouvement.MouvementEditContribuableController" parent="abstractMouvementController" >
		<property name="sessionForm" value="true" />
		<property name="commandClass" value="ch.vd.uniregctb.mouvement.view.MouvementListView" />
		<property name="commandName" value="command" />
		<property name="mouvementEditManager" ref="mouvementEditManager" />
		<property name="formView" value="mouvement/edit-contribuable" />
		<property name="successView" value="redirect:/mouvement/edit-contribuable.do" />
	</bean>
	
	<bean id="mouvementEditManager" class="ch.vd.uniregctb.mouvement.manager.MouvementEditManagerImpl" parent="abstractMouvementManager"/>

	<bean id="abstractMouvementMasseController" abstract="true" class="ch.vd.uniregctb.mouvement.AbstractMouvementMasseController" parent="abstractMouvementController">
		<property name="mouvementManager" ref="mouvementMasseManager"/>
		<property name="sessionForm" value="true"/>
		<property name="commandName" value="command"/>
	</bean>

	<bean id="abstractMouvementMasseRechercheController" abstract="true" class="ch.vd.uniregctb.mouvement.AbstractMouvementMasseRechercheController" parent="abstractMouvementMasseController"/>

	<bean id="mouvementMasseConsultationController" class="ch.vd.uniregctb.mouvement.MouvementMasseConsultationController" parent="abstractMouvementMasseRechercheController">
		<property name="commandClass" value="ch.vd.uniregctb.mouvement.view.MouvementMasseCriteriaSimpleEtatView"/>
		<property name="formView" value="mouvement/masse/consult/list"/>
		<property name="validator" ref="mouvementMasseConsultationValidator"/>
	</bean>

	<bean id="mouvementMasseManager" class="ch.vd.uniregctb.mouvement.manager.MouvementMasseManagerImpl" parent="abstractMouvementManager">
		<property name="mouvementService" ref="mouvementService"/>
		<property name="bordereauDAO" ref="bordereauMouvementDossierDAO"/>
		<property name="extractionService" ref="extractionService" />
	</bean>

	<bean id="mouvementMasseConsultationValidator" class="ch.vd.uniregctb.mouvement.validator.MouvementMasseConsultationValidator"/>

	<bean id="mouvementMasseTraitementController" class="ch.vd.uniregctb.mouvement.MouvementMasseTraitementController" parent="abstractMouvementMasseRechercheController">
		<property name="commandClass" value="ch.vd.uniregctb.mouvement.view.MouvementMasseCriteriaTraitementView"/>
		<property name="formView" value="mouvement/masse/traitement/list"/>
	</bean>

	<bean id="mouvementMasseImpressionBordereauxController" class="ch.vd.uniregctb.mouvement.MouvementMasseImpressionBordereauxController" parent="abstractMouvementMasseController">
		<property name="sessionForm" value="false"/>
		<property name="commandClass" value="ch.vd.uniregctb.mouvement.view.MouvementMasseImpressionBordereauxView"/>
		<property name="formView" value="mouvement/masse/imprimer/list"/>
	</bean>

	<bean id="mouvementMasseDetailBordereauController" class="ch.vd.uniregctb.mouvement.MouvementMasseDetailBordereauController" parent="abstractMouvementMasseController">
		<property name="commandClass" value="ch.vd.uniregctb.mouvement.view.MouvementMasseDetailBordereauView"/>
		<property name="formView" value="mouvement/masse/imprimer/detail"/>
		<property name="infraService" ref="serviceInfrastructureService"/>
		<property name="printPCLManager" ref="printPCLManager" />
	</bean>

	<bean id="mouvementMasseReceptionBordereauxController" class="ch.vd.uniregctb.mouvement.MouvementMasseReceptionBordereauxController" parent="abstractMouvementMasseController">
		<property name="sessionForm" value="false"/>
		<property name="commandClass" value="ch.vd.uniregctb.mouvement.view.BordereauEnvoiListView"/>
		<property name="formView" value="mouvement/masse/receptionner/list"/>
	</bean>

	<bean id="mouvementMasseDetailReceptionBordereauController" class="ch.vd.uniregctb.mouvement.MouvementMasseDetailReceptionBordereauController" parent="abstractMouvementMasseController">
		<property name="commandClass" value="ch.vd.uniregctb.mouvement.view.BordereauEnvoiReceptionView"/>
		<property name="formView" value="mouvement/masse/receptionner/detail"/>
	</bean>

</beans>
