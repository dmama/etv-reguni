<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans	http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

	<!-- FiDoR -->

	<bean id="fidorClientRaw" class="ch.vd.uniregctb.webservice.fidor.v5.FidorClientImpl">
		<property name="serviceUrl" value="${fidor.url}"/>
		<property name="username" value="${fidor.user}"/>
		<property name="password" value="${fidor.password}"/>
	</bean>

	<bean id="fidorClientTracing" class="ch.vd.uniregctb.migration.pm.utils.TracingFactory">
		<constructor-arg value="ch.vd.uniregctb.webservice.fidor.v5.FidorClient"/>
		<constructor-arg ref="fidorClientRaw"/>
	</bean>

	<bean id="fidorClientCache" class="ch.vd.uniregctb.migration.pm.utils.CacheFactory">
		<constructor-arg value="ch.vd.uniregctb.webservice.fidor.v5.FidorClient"/>
		<constructor-arg ref="fidorClientTracing"/>
	</bean>

	<alias name="fidorClientCache" alias="fidorClient"/>

	<!-- RCPers -->

	<bean id="rcpersClientRaw" class="ch.vd.unireg.wsclient.rcpers.RcPersClientImpl">
		<property name="baseUrl" value="${rcpers.url}"/>
		<property name="username" value="${rcpers.user}"/>
		<property name="password" value="${rcpers.password}"/>
		<property name="peoplePath" value="persons/ct.vd.rcpers"/>
		<property name="peopleBySocialNumberPath" value="persons/ch.vn"/>
		<property name="searchPath" value="search"/>
	</bean>

	<bean id="rcpersClientTracing" class="ch.vd.uniregctb.migration.pm.utils.TracingFactory">
		<constructor-arg value="ch.vd.unireg.wsclient.rcpers.RcPersClient"/>
		<constructor-arg ref="rcpersClientRaw"/>
	</bean>

	<alias name="rcpersClientTracing" alias="rcpersClient"/>

	<!-- RCEnt -->

	<bean id="rcentClientRaw" class="ch.vd.unireg.wsclient.rcent.RcEntClientImpl">
		<property name="baseUrl" value="${rcent.url}"/>
		<property name="username" value="${rcent.user}"/>
		<property name="password" value="${rcent.password}"/>
		<property name="organisationPath" value="/organisation/CT.VD.PARTY"/>
		<property name="organisationsOfNoticePath" value="/organisationsOfNotice"/>
		<property name="pingPath" value="/infrastructure/ping"/>
		<property name="validationEnabled" value="${rcent.validate}"/>
		<property name="schemasLocations">
			<list>
				<value>eVD-0004-3-0.xsd</value>
				<value>eVD-0022-3-1.xsd</value>
				<value>eVD-0023-3-1.xsd</value>
				<value>eVD-0024-3-1.xsd</value>
			</list>
		</property>
	</bean>

	<bean id="rcentClientTracing" class="ch.vd.uniregctb.migration.pm.utils.TracingFactory">
		<constructor-arg value="ch.vd.unireg.wsclient.rcent.RcEntClient"/>
		<constructor-arg ref="rcentClientRaw"/>
	</bean>

	<bean id="rcentClientCache" class="ch.vd.uniregctb.migration.pm.utils.CacheFactory">
		<constructor-arg value="ch.vd.unireg.wsclient.rcent.RcEntClient"/>
		<constructor-arg ref="rcentClientTracing"/>
	</bean>

	<alias name="rcentClientCache" alias="rcentClient"/>

	<bean name="organisationHistorizer" class="ch.vd.uniregctb.adapter.rcent.historizer.OrganisationHistorizer"/>

</beans>
